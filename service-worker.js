const n=self,i="vnote-cache-v1",l=[".","index.html","manifest.webmanifest"];n.addEventListener("install",t=>{t.waitUntil(caches.open(i).then(e=>e.addAll(l)).then(()=>n.skipWaiting()))});n.addEventListener("activate",t=>{t.waitUntil(caches.keys().then(e=>Promise.all(e.filter(c=>c!==i).map(c=>caches.delete(c)))).then(()=>n.clients.claim()))});n.addEventListener("fetch",t=>{const{request:e}=t;e.method!=="GET"||new URL(e.url).origin!==n.location.origin||t.respondWith(caches.match(e).then(c=>c||fetch(e).then(a=>{const s=a.clone();return caches.open(i).then(h=>h.put(e,s)),a})))});
